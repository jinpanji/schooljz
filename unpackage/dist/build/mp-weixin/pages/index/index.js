(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{"24dc":function(t,n,i){"use strict";var e=i("ac83"),o=i.n(e);o.a},6660:function(t,n,i){"use strict";i.r(n);var e=i("a247"),o=i.n(e);for(var c in e)"default"!==c&&function(t){i.d(n,t,(function(){return e[t]}))}(c);n["default"]=o.a},7881:function(t,n,i){"use strict";(function(t){i("83be");e(i("66fd"));var n=e(i("c449"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("543d")["createPage"])},a247:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e,o=function(){i.e("components/common/trip").then(function(){return resolve(i("637b"))}.bind(null,i)).catch(i.oe)},c=function(){i.e("components/common/buslist").then(function(){return resolve(i("acee"))}.bind(null,i)).catch(i.oe)},s=i("57eb"),a={components:{Trip:o,Buslist:c},data:function(){return{title:"Hello",form:{},isLogin:!0,widths:[10,0],width1:0,flag:!1,list:["光谷大道五里湾","光谷大道金融港","光谷大三李陈","光谷大道关南村","光谷大道当代国际花园","光谷大道现代世贸中心"],childrenList:[],imgUrl:"",childCheck:null,parentInfo:{},childLines:{},siteInfo:{},sxFlag:!0,siteInfoData:{},homeInfo:{},date:"",dayList:["周日","周一","周二","周三","周四","周五","周六"],day:null,city:"",isLoading:!1}},watch:{widths:function(t,n){console.log(t)},deep:!0},onLoad:function(){e=new s({key:"SX7BZ-DJI6G-G5OQK-IDBI4-RZ6TO-33FBA"}),this.imgUrl=this.$imgurl,t.authorize({scope:"userInfo"});var n=new Date,i="";i=n.getFullYear()+"年",i+=n.getMonth()+1+"月",i+=n.getDate()+"日",this.date=i;var o=null;o=n.getDay(),this.day=this.dayList[o],t.pageScrollTo({scrollTop:300,duration:300})},onShow:function(){var n=t.getStorageSync("userInfo");n?(n=JSON.parse(n),this.parentInfo=n):(t.showToast({icon:"none",title:"您还未登录，请先登录!"}),setTimeout((function(){t.navigateTo({url:"../my/login"})}),1e3));var i=t.getStorageSync("childId");i&&(this.childCheck=i),this.getuserinfo()},methods:{getuserinfo:function(){var n=this;this.$http.post("puchildren/listByParentId",{parentId:this.parentInfo.id}).then((function(i){100==i.code&&(i.info.length>0?(n.childrenList=i.info,n.childCheck||(n.childCheck=i.info[0].id,t.setStorageSync("childId",i.info[0].id)),n.getmainList()):(t.removeStorageSync("childId"),n.childCheck=""),n.getLineInfo())}))},getLineInfo:function(){var t=this;console.log("获取当前线路"),this.$http.post("puline/currentLine",{childrenId:this.childCheck}).then((function(n){100==n.code&&(t.childLines=n.info,n.info?t.list=n.info.sites:t.list=[],setTimeout((function(){t.isLoading=!1}),1e3))}))},getmainList:function(){var t=this;this.homeInfo={},this.siteInfoData={},this.$http.post("puridingrecord/mainList",{childrenId:this.childCheck}).then((function(n){if(100==n.code){t.siteInfo=n.info;var i=n.info;i.forEach((function(n,i){1==n.type?t.siteInfoData.takeTime||(t.siteInfoData=n):t.homeInfo=n}))}}))},changeChild:function(n){this.childCheck=n.id,t.setStorageSync("childId",n.id),this.getLineInfo(),this.getmainList()},goRouter:function(){this.isLogin?t.navigateTo({url:"../../components/msg/userinfo"}):t.navigateTo({url:"../my/login"})},touchEnd:function(){this.flag&&(console.log("查看线路安全报告"),t.navigateTo({url:"../../components/msg/security"}))},goInfo:function(n){switch(n){case 1:t.navigateTo({url:"../../components/msg/Itineraryrecord"});break;case 2:t.navigateTo({url:"../../components/complaint/index?id="+this.childCheck});break;case 3:t.navigateTo({url:"../../components/info/trip"});break}},goF5:function(){this.isLoading=!0,this.getLineInfo(),this.getmainList()},getcitycode:function(){var n=this;t.getLocation({success:function(i){console.log(i);var o=i.latitude,c=i.longitude;e.reverseGeocoder({location:{latitude:o,longitude:c},success:function(i){var e=i.result.address_component;console.log(i),n.city=e.city;var o=n.city.substring(2,-1),c=e.province;c=c.replace("省",""),t.request({url:"https://api.yytianqi.com/citylist/id/1",success:function(t){var i=t.data.list;i.forEach((function(t,i){if(t.name==c){var e=t.list;e.forEach((function(t,i){t.name.substring(2,-1)==o&&n.getWeather(t.list[0].city_id)}))}}))}})},fail:function(t){console.log(t)},complete:function(t){}})}})},getcode:function(t){},getWeather:function(n){console.log("获取天启"),t.request({url:"https://api.yytianqi.com/observe?city="+n+"&key=cwhq5h588cdmctfc",success:function(t){console.log(t)}})}}};n.default=a}).call(this,i("543d")["default"])},ac83:function(t,n,i){},c449:function(t,n,i){"use strict";i.r(n);var e=i("f312"),o=i("6660");for(var c in o)"default"!==c&&function(t){i.d(n,t,(function(){return o[t]}))}(c);i("24dc");var s,a=i("f0c5"),r=Object(a["a"])(o["default"],e["b"],e["c"],!1,null,"2064bdce",null,!1,e["a"],s);n["default"]=r.exports},f312:function(t,n,i){"use strict";var e,o=function(){var t=this,n=t.$createElement;t._self._c},c=[];i.d(n,"b",(function(){return o})),i.d(n,"c",(function(){return c})),i.d(n,"a",(function(){return e}))}},[["7881","common/runtime","common/vendor"]]]);