(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/index"],{1752:function(n,o,t){"use strict";t.r(o);var e=t("3569"),i=t("77bd");for(var a in i)"default"!==a&&function(n){t.d(o,n,(function(){return i[n]}))}(a);t("77ed");var r,s=t("f0c5"),c=Object(s["a"])(i["default"],e["b"],e["c"],!1,null,"680e3077",null,!1,e["a"],r);o["default"]=c.exports},3569:function(n,o,t){"use strict";var e,i=function(){var n=this,o=n.$createElement;n._self._c;n._isMounted||(n.e0=function(o){o.stopPropagation(),n.wxShow=!1})},a=[];t.d(o,"b",(function(){return i})),t.d(o,"c",(function(){return a})),t.d(o,"a",(function(){return e}))},"77bd":function(n,o,t){"use strict";t.r(o);var e=t("d772"),i=t.n(e);for(var a in e)"default"!==a&&function(n){t.d(o,n,(function(){return e[n]}))}(a);o["default"]=i.a},"77ed":function(n,o,t){"use strict";var e=t("afbf"),i=t.n(e);i.a},"9bdc":function(n,o,t){"use strict";(function(n){t("83be");e(t("66fd"));var o=e(t("1752"));function e(n){return n&&n.__esModule?n:{default:n}}n(o.default)}).call(this,t("543d")["createPage"])},afbf:function(n,o,t){},d772:function(n,o,t){"use strict";(function(n){function t(n,o,t){return o in n?Object.defineProperty(n,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[o]=t,n}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var e={data:function(){return{userName:"用户名",background:["color1","color2","color3"],indicatorDots:!0,autoplay:!1,interval:2e3,duration:500,ischeck:!1,isLogin:!1,isShow:!1,avatarUrl:"",userInfo:{},childrenList:[],parentList:[],wxShow:!1}},onLoad:function(){},onShow:function(){this.getIsLogin()},methods:{getIsLogin:function(){var o=n.getStorageSync("userInfo");o?(this.isLogin=!0,o=JSON.parse(o),this.userInfo=o,console.log("用户信息"),console.log(o),this.getUserList()):(this.isLogin=!1,this.userInfo={},this.childrenList=[],this.parentList=[])},loginRouter:function(){n.navigateTo({url:"login"})},getUserList:function(){var n=this;this.$http.post("puchildren/listChildrenLineByParentId",{parentId:this.userInfo.id}).then((function(o){100==o.code&&(n.childrenList=o.info)})),this.$http.post("puparent/getSubList",{parentId:this.userInfo.id}).then((function(o){100==o.code&&(n.parentList=o.info)}))},lookInfo:function(){this.isLogin?n.navigateTo({url:"../../components/msg/userinfo?id="+this.userInfo.id}):n.showToast({icon:"none",title:"请登录后操作！"})},switch1Change:function(n){this.ischeck=n.detail.value},goEdit:function(o,t){1==o?n.navigateTo({url:"../../components/information/editchild?id="+t}):n.navigateTo({url:"../../components/information/editparent?id=1"})},addChild:function(o){var t=this;this.$http.post("puparent/isWxGrant",{parentId:this.userInfo.id}).then((function(e){100==e.code?1==o?n.navigateTo({url:"../../components/information/addchildschool"}):n.showToast({icon:"none",title:"您的账号已绑定微信！"}):250==e.code&&(t.wxShow=!0)}))},showDrawer:function(n){this.isShow=1==n},goInfo:function(o){switch(o){case 1:console.log("快速续费"),n.navigateTo({url:"../../components/info/renew"});break;case 2:console.log("安全报告"),n.navigateTo({url:"../../components/msg/record"});break;case 3:console.log("邀请奖励"),n.navigateTo({url:"../../components/share/index"});break}},gopay:function(){n.navigateTo({url:"../../components/information/payment"})},bindGetUserInfo:function(){var o=this,e=this;wx.login({success:function(i){console.log("获取code"),console.log(i);var a=i.code;console.log(a),wx.getUserInfo({success:function(i){console.log("获取用户信息"),e.avatarUrl=i.userInfo.avatarUrl,e.$http.post("puparent/wxGrant",t({code:a,encryptedData:i.encryptedData,rawData:i.rawData,signature:i.signature,iv:i.iv,parentId:"",photo:e.avatarUrl},"parentId",e.userInfo.id)).then((function(t){if(console.log(t),100==t.code){var i={};e.userInfo.photo=e.avatarUrl,e.userInfo.wechatOpenid=t.info,i=JSON.stringify(e.UserInfo),n.setStorageSync("userInfo",i),o.wxShow=!1}}))}})}})},changeUserPhoto:function(){console.log("改头像")}},onShareAppMessage:function(n){console.log("分享"),console.log(n);var o="share1"==n.target.id?2:1,t=this.userInfo.id;return console.log(o),console.log(t),{title:1==o?"奖励分享":"分享添加子账号",path:"pages/my/login?type="+o+"&parentId="+t}}};o.default=e}).call(this,t("543d")["default"])}},[["9bdc","common/runtime","common/vendor"]]]);